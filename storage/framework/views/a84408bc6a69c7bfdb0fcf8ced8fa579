<div class="summary-progress" ng-if="reports.active_summary_progress">
	<div class="form-search magenta">
		<?php echo Form::open(
				[
					'id' => 'search_form',
					'class' => 'form-horizontal'
					, 'ng-submit' => 'reports.searchFnc($event)'
				]
		); ?>

		<div class="form-group">
			<div class="col-xs-3"></div>
			<div class="col-xs-6">
				<select ng-model="reports.search.subject_id"
						ng-change="reports.summaryProgress()"
						ng-disabled="!reports.subjects.length"
						class="form-control">
					<option value=""><?php echo trans('messages.select_subject'); ?></option>
					<option ng-selected="reports.search.subject_id == subject.id"
							ng-repeat="subject in reports.subjects" ng-value="subject.id">{! subject.name !}
					</option>
				</select>
			</div>
		</div>
		<?php echo Form::close(); ?>

	</div>

	<div template-directive template-url="<?php echo route('reports.partials.progress_bar'); ?>"></div>

	<div class="reports-container" ng-cloak>
		<div class="progress-holder" ng-repeat="(key, value) in reports.summary.columns track by $index">
			<p>{! value !}</p>

			<div class="progress">
				<div class="progress-bar progress-bar-success"
					 ng-style="{ 'width' : reports.summary.records[key-1].completed }"></div>
				<div class="progress-bar progress-bar-warning"
					 ng-style="{ 'width' : reports.summary.records[key-1].on_going }"></div>
			</div>
		</div>

		<div class="row">
			<p class="progress-key"><?php echo trans('messages.keys'); ?></p>

			<div class="progress-legends col-xs-4">
				<div class="success-legend"><?php echo trans('messages.completed'); ?></div>
			</div>
			<div class="progress-legends col-xs-4">
				<div class="ongoing-legend"><?php echo trans('messages.ongoing'); ?></div>
			</div>

			<div class="progress-legends col-xs-4">
				<div class="not-started-legend"><?php echo trans('messages.not_yet_started'); ?></div>
			</div>
		</div>
	</div>
</div>