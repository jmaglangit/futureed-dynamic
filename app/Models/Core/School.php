<?php namespace FutureEd\Models\Core;

use FutureEd\Models\Traits\TransactionTrait;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class School extends Model {


    use SoftDeletes;

	use TransactionTrait;

    protected $table = 'schools';

    protected $dates = ['deleted_at'];

    protected $hidden = ['created_by','updated_by','created_at','updated_at','deleted_at'];

	protected $attributes = [
		'created_by' => 1,
		'updated_by' => 1
	];

	// relationships

	public function principal()
	{
		return $this->belongsTo('FutureEd\Models\Core\Client','code','school_code')
			->role(config('futureed.principal'))->with('user');
	}
}
